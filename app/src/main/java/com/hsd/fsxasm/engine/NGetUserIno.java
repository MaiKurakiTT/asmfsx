package com.hsd.fsxasm.engine;import java.io.IOException;import java.util.ArrayList;import java.util.List;import org.xutils.DbManager;import org.xutils.x;import org.xutils.ex.DbException;import android.app.Activity;import android.content.SharedPreferences;import android.os.Handler;import android.os.Message;import com.alibaba.fastjson.JSONObject;import com.hsd.fsxasm.base.BaseCommonCallback;import com.hsd.fsxasm.base.BaseEngine;import com.hsd.fsxasm.db.MDbUser;import com.hsd.fsxasm.db.MDbUtils;import com.hsd.fsxasm.domain.HeartBeatBean;import com.hsd.fsxasm.domain.LoginBean;import com.hsd.fsxasm.domain.UserInformationBean;import com.hsd.fsxasm.global.Constructs;import com.hsd.fsxasm.params.AddHeartBeatParams;import com.hsd.fsxasm.params.GetUserInfoParams;import com.hsd.fsxasm.params.HeartBeatLISTParams;import com.hsd.fsxasm.params.LoginParams;import com.hsd.fsxasm.utils.LogUtil;public class NGetUserIno extends BaseEngine {	private static List<UserInformationBean> beans;	private Activity mActivity;	private static int a = 1;		static{		beans = new ArrayList<UserInformationBean>();	}				public NGetUserIno(Activity mActivity, Handler handler) {		super(mActivity, handler);		this.mActivity = mActivity;								// TODO Auto-generated constructor stub	}	public void getUserInfo(Integer userID, int beanCounts) {//		beans = new ArrayList<UserInformationBean>();		System.out.println("当前执行的次数" + a++);		final int beanCounts2 = beanCounts;		System.out.println("当前的集合长度" + beans.size());		/*SharedPreferences sp1 = mActivity.getSharedPreferences("likelist", mActivity.MODE_PRIVATE);		String string = sp1.getString("like_list", "");		beans = JSONObject.parseArray(string, UserInformationBean.class);		int size = beans.size();		System.out.println(size);*/		GetUserInfoParams params = new GetUserInfoParams(userID);		if (!checkNet()) {			return;		} else {			BaseCommonCallback<UserInformationBean> baseCommonCallback = new BaseCommonCallback<UserInformationBean>(					mHandler) {				//private int size;								@Override				public void onSuccess(UserInformationBean bean) {					//size = beans.size();					//System.out.println(size);					System.out.println(bean + "hash");					System.out.println(beanCounts2 + "beanCounts2");					System.out.println(beans.size() + "hashsize");					if (beanCounts2 == beans.size()) {						Message msg = new Message();						msg.what = Constructs.NET_SUCCESSFUL;						msg.obj = beans;						mHandler.sendMessage(msg);					} else {												beans.add(bean);												if (beanCounts2 == beans.size()) {							Message msg = new Message();							msg.what = Constructs.NET_SUCCESSFUL;							msg.obj = beans;							mHandler.sendMessage(msg);						}						/*SharedPreferences sp = mActivity.getSharedPreferences("likelist", mActivity.MODE_PRIVATE);						SharedPreferences.Editor editor = sp.edit();						String jsonString = JSONObject.toJSONString(beans);						editor.putString("like_list", jsonString);						editor.commit();						size = beans.size();						System.out.println(size);*/											/*	List<UserInformationBean> arrayList = new ArrayList<UserInformationBean>();						SharedPreferences sp1 = mActivity.getSharedPreferences("likelist", mActivity.MODE_PRIVATE);						String string = sp1.getString("like_list", "");						arrayList = JSONObject.parseArray(string, UserInformationBean.class);						int size = arrayList.size();*/						//System.out.println(size);					}				}			};			x.http().post(params, baseCommonCallback);		}	}}
package com.hsd.fsxasm.adapter;import java.util.List;import android.app.Activity;import android.content.Intent;import android.view.View;import android.view.View.OnClickListener;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.Button;import android.widget.ImageView;import android.widget.TextView;import android.widget.Toast;import com.hsd.fsxasm.R;import com.hsd.fsxasm.chat.Jstx_Chat;import com.hsd.fsxasm.domain.UserInformationBean;import com.hsd.fsxasm.engine.NAddHeartBeat;import com.hsd.fsxasm.engine.NRemoveHeartBeat;import com.hsd.fsxasm.utils.AsyncImageLoader;import com.hsd.fsxasm.utils.FormatDate2String;import com.hsd.fsxasm.utils.GetAgeFromDate;public class HeartBeatListAdapter extends BaseAdapter {	private List<UserInformationBean> beans;	private Activity mActivity;	private NRemoveHeartBeat removeHeartBeat;	public HeartBeatListAdapter(List<UserInformationBean> lists,			Activity activity, NRemoveHeartBeat removeHeartBeat) {		super();		beans = lists;		mActivity = activity;		this.removeHeartBeat = removeHeartBeat;		// TODO Auto-generated constructor stub	}	@Override	public int getCount() {		// TODO Auto-generated method stub		return beans.size();	}	@Override	public Object getItem(int position) {		// TODO Auto-generated method stub		return beans.get(position);	}	@Override	public long getItemId(int position) {		// TODO Auto-generated method stub		return position;	}	@Override	public View getView(int position, View convertView, ViewGroup parent) {		final int position2 = position;		Holder holder;		if (convertView == null) {			holder = new Holder();			convertView = View					.inflate(mActivity, R.layout.like_list_item, null);			holder.imgHead = (ImageView) convertView					.findViewById(R.id.likelist_head);			holder.tvName = (TextView) convertView					.findViewById(R.id.likelist_name);			holder.tvAge = (TextView) convertView					.findViewById(R.id.likelist_age);			holder.tvSex = (TextView) convertView					.findViewById(R.id.likelist_sex);			holder.noLikeClick = (ImageView) convertView					.findViewById(R.id.likelist_nolike_bt);			holder.chatClick = (ImageView) convertView					.findViewById(R.id.likelist_chat_bt);			convertView.setTag(holder);		} else {			holder = (Holder) convertView.getTag();		}		UserInformationBean bean = beans.get(position);		// x.image().bind(holder.imgHead, bean.getUser_icon());		AsyncImageLoader.getInstance().getImageLoaderInstance(mActivity)				.displayImage(bean.getUser_icon(), holder.imgHead);		holder.tvName.setText(bean.getUser_nickname());		holder.tvAge.setText(GetAgeFromDate.getAge(bean.getUser_birthday())				+ "岁");		holder.tvSex.setText(bean.getUser_sex());		/**		 * 取消心动的点击事件		 */		holder.noLikeClick.setOnClickListener(new OnClickListener() {			@Override			public void onClick(View v) {				removeHeartBeat.removeHeartBeat(beans.get(position2).getUserInformation_ID());				beans.remove(position2);				notifyDataSetChanged();			}		});		/**		 * 和心动的人聊天点击事件		 */		holder.chatClick.setOnClickListener(new OnClickListener() {			@Override			public void onClick(View v) {//				Toast.makeText(mActivity, "攻城狮正拼命开发中。。。", 0).show();				Intent intent = new Intent(mActivity,Jstx_Chat.class);				intent.putExtra("isChat", true);				intent.putExtra("toPeople", beans.get(position2).getUserInformation_ID() + "");				mActivity.startActivity(intent);			}		});				return convertView;	}	private class Holder {		ImageView imgHead;		TextView tvName;		TextView tvSex;		TextView tvAge;		ImageView noLikeClick;		ImageView chatClick;	}}
package com.hsd.fsxasm.activity;import java.util.ArrayList;import java.util.Iterator;import java.util.List;import java.util.Set;import android.content.Intent;import android.content.SharedPreferences;import android.view.View;import android.view.View.OnClickListener;import android.widget.AdapterView;import android.widget.AdapterView.OnItemClickListener;import android.widget.ListView;import com.alibaba.fastjson.JSONObject;import com.hsd.fsxasm.R;import com.hsd.fsxasm.adapter.HeartBeatListAdapter;import com.hsd.fsxasm.base.BaseActivity;import com.hsd.fsxasm.domain.HeartBeatBean;import com.hsd.fsxasm.domain.UserInformationBean;import com.hsd.fsxasm.engine.NAddHeartBeat;import com.hsd.fsxasm.engine.NHeartBeatLIST;import com.hsd.fsxasm.engine.NRemoveHeartBeat;import com.hsd.fsxasm.widget.MPullToRefreshListView;public class HeartBeatListActivity extends BaseActivity {	private MPullToRefreshListView listView;	private List<UserInformationBean> beans;	@Override	protected View initView() {		View parent = View.inflate(mActivity, R.layout.like_list, null);		listView = (MPullToRefreshListView) parent				.findViewById(R.id.likelist_list);		return parent;	}	@Override	protected void initData() {		mTitle.setText("心动好友");		mBack.setVisibility(View.VISIBLE);		mBack.setOnClickListener(new OnClickListener() {			@Override			public void onClick(View v) {				finish();			}		});		HttpResponseHandler httpResponseHandler = new HttpResponseHandler();		NHeartBeatLIST nHeartBeat = new NHeartBeatLIST(mActivity,				httpResponseHandler);		nHeartBeat.getHeartBeatList(mActivity, httpResponseHandler);		// beans = new ArrayList<UserInformationBean>();	}	@Override	protected void updataUI(Object obj) {		beans = (List<UserInformationBean>) obj;		System.out.println(beans);		System.out.println("updataup size" + beans.size());		NRemoveHeartBeat removeHeartBeat = new NRemoveHeartBeat(mActivity, new HttpResponseHandler());		listView.setAdapter(new HeartBeatListAdapter(beans, mActivity, removeHeartBeat));		int size = beans.size();		System.out.println(size);		listView.setOnItemClickListener(new OnItemClickListener() {			@Override			public void onItemClick(AdapterView<?> parent, View view,					int position, long id) {				if (beans != null) {					UserInformationBean userInformationBean = beans							.get(position-1);					String jsonString = JSONObject							.toJSONString(userInformationBean);					Intent intent = new Intent(HeartBeatListActivity.this,							FriendsPersonInfoActivity.class);					intent.putExtra("userinfomation", jsonString);					startActivityForResult(intent, 1);				}			}		});	}	@Override	protected void setListener() {	}}
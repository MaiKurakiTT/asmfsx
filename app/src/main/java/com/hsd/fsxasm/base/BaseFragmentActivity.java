package com.hsd.fsxasm.base;import org.xutils.x;import android.app.Activity;import android.content.Context;import android.content.SharedPreferences;import android.os.Bundle;import android.os.Handler;import android.os.Message;import android.support.v4.app.FragmentActivity;import android.support.v4.app.FragmentManager;import android.view.View;import android.widget.ImageView;import android.widget.TextView;/** * 基础的Activity,所有的UI层的Activity均继承于该类,已经加入了xutil注解功能 * @Description:  * @Author: easylove * @Version: V1.00 （版本号） * @Create Date: 2016年4月16日22:14:34 * @Parameters: */public abstract class BaseFragmentActivity extends FragmentActivity{		protected View mRootView;		protected FragmentManager mFragmentManager;		public Activity mActivity;		private SharedPreferences sp;	@Override	protected void onCreate(Bundle savedInstanceState) {		// TODO Auto-generated method stub		super.onCreate(savedInstanceState);				mActivity = this;		sp=getSharedPreferences("init", Context.MODE_PRIVATE);		mFragmentManager = getSupportFragmentManager();		mRootView = initView();				setContentView(mRootView);		x.view().inject(this);		setListener();	}			protected abstract View initView();		protected abstract void updataUI(Object obj);		public void updataUI(Object obj , int responseCode){			}		protected abstract void setListener();		protected class HttpResponseHandler extends Handler{		public HttpResponseHandler() {			// TODO Auto-generated constructor stub		}		@Override		public void handleMessage(Message msg) {									if(msg.arg1!=0){				updataUI(msg.obj,msg.arg1);			}else{				updataUI(msg.obj);			}								}	}		//---------------------Sp-----------		public String getSharedString(String key, String defValue) {		return sp.getString(key, defValue);	}	public void saveSharedString(String key, String defValue) {		sp.edit().putString(key, defValue);	}			//---------------------Sp-----------	}
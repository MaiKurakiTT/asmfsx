package com.hsd.fsxasm.chat;import com.alibaba.fastjson.JSONObject;import com.hsd.fsxasm.R;import com.hsd.fsxasm.chat.fragment.ChatFragment;import com.hsd.fsxasm.chat.fragment.ConversationListFragment;import com.hsd.fsxasm.global.TempInfo;import com.hsd.fsxasm.utils.LogUtil;import com.hyphenate.EMCallBack;import com.hyphenate.chat.EMClient;import com.hyphenate.chat.EMOptions;import com.hyphenate.easeui.EaseConstant;import com.hyphenate.easeui.controller.EaseUI;import com.hyphenate.easeui.ui.EaseChatFragment;import com.hyphenate.easeui.ui.EaseConversationListFragment;import com.hyphenate.easeui.widget.EaseConversationList;import android.content.Context;import android.os.Bundle;import android.support.annotation.Nullable;import android.support.multidex.MultiDex;import android.support.v4.app.FragmentActivity;import android.util.Log;public class Jstx_Chat extends FragmentActivity{		private String TAG = "Jstx_Chat";	public static Context context;		@Override	protected void onCreate(@Nullable Bundle arg0) {		// TODO Auto-generated method stub		context = getApplicationContext();		MultiDex.install(this);		super.onCreate(arg0);		setContentView(R.layout.jstx_chat);		LogUtil.info("jstx_chat", "即时通讯被开启");		init();		boolean flag = getIntent().getBooleanExtra("isChat", false);		if(flag){			String toPeople = getIntent().getStringExtra("toPeople");			Bundle bundle = new Bundle();			bundle.putInt("chatType", EaseConstant.CHATTYPE_SINGLE);			bundle.putString(EaseConstant.EXTRA_USER_ID,toPeople);			ChatFragment easeChatFragment = new ChatFragment();			easeChatFragment.setArguments(bundle);			getSupportFragmentManager().beginTransaction().replace(R.id.jstx_chat, easeChatFragment, "chat").commit();			return ;		}						ConversationListFragment fragment = new ConversationListFragment();				Log.i(TAG , "调试");		getSupportFragmentManager().beginTransaction().replace(R.id.jstx_chat, fragment, "chat").commit();	}		private void init() {			EMClient.getInstance().login(TempInfo.findFirst.getUser_id() + "", "123456", new EMCallBack() {						@Override			public void onSuccess() {				// TODO Auto-generated method stub				Log.i(TAG, "登录成功");			}						@Override			public void onProgress(int arg0, String arg1) {				// TODO Auto-generated method stub							}						@Override			public void onError(int arg0, String arg1) {				// TODO Auto-generated method stub				Log.i(TAG, "登录失败");			}		});		DemoHelper.getInstance().init(Jstx_Chat.this);			}}
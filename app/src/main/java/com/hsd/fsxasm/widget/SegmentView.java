package com.hsd.fsxasm.widget;import org.xmlpull.v1.XmlPullParser;import com.hsd.fsxasm.R;import com.hsd.fsxasm.utils.LogUtil;import android.content.Context;import android.content.res.ColorStateList;import android.util.AttributeSet;import android.util.TypedValue;import android.view.Gravity;import android.view.View;import android.widget.LinearLayout;import android.widget.TextView;public class SegmentView extends LinearLayout {	private TextView textView1;	private TextView textView2;	private onSegmentViewClickListener listener;		private int dp;	public SegmentView(Context context, AttributeSet attrs) {		super(context, attrs);		init();	}		public SegmentView(Context context) {		super(context);		init();	}	private void init() {		//this.setLayoutParams(new LinearLayout.LayoutParams(dp2Px(getContext(), 100), LinearLayout.LayoutParams.WRAP_CONTENT));		textView1 = new TextView(getContext());		textView2 = new TextView(getContext());		textView1.setLayoutParams(new LayoutParams(0, LayoutParams.WRAP_CONTENT, 1));		textView2.setLayoutParams(new LayoutParams(0, LayoutParams.WRAP_CONTENT, 1));		XmlPullParser xrp = getResources().getXml(R.drawable.seg_text_color_selector);  	    try {  	        ColorStateList csl = ColorStateList.createFromXml(getResources(), xrp);  	        textView1.setTextColor(csl);	        textView2.setTextColor(csl);	      } catch (Exception e) {  	    } 	    textView1.setGravity(Gravity.CENTER);	    textView2.setGravity(Gravity.CENTER);	    textView1.setPadding(3, 6, 3, 6);	    textView2.setPadding(3, 6, 3, 6);	    	    textView1.setText("推荐");	    textView2.setText("微圈");	    setSegmentTextSize(15);		textView1.setBackgroundResource(R.drawable.seg_left);		textView2.setBackgroundResource(R.drawable.seg_right);		this.removeAllViews();		this.addView(textView1);		this.addView(textView2);		this.invalidate();				textView1.setOnClickListener(new OnClickListener() {						@Override			public void onClick(View v) {								LogUtil.info("text1", textView1.isSelected() + "");				if (listener != null) {					listener.onSegmentViewClick(textView1, 1);				}			}		});		textView2.setOnClickListener(new OnClickListener() {						@Override			public void onClick(View v) {								LogUtil.info("text2", textView2.isSelected() + "");				if (listener != null) {					listener.onSegmentViewClick(textView2, 2);				}			}		});	}	public void setSegmentTextSize(int dp) {		textView1.setTextSize(TypedValue.COMPLEX_UNIT_DIP, dp);		textView2.setTextSize(TypedValue.COMPLEX_UNIT_DIP, dp);	}		private static int dp2Px(Context context, float dp) {		final float scale = context.getResources().getDisplayMetrics().density;		return (int) (dp * scale + 0.5f);	}		public void setOnSegmentViewClickListener(onSegmentViewClickListener listener) {		this.listener = listener;	}		public void setSegmentText(CharSequence text,int position) {		if (position == 0) {			textView1.setText(text);		}		if (position == 1) {			textView2.setText(text);		}	}		public void setOneSelect(boolean flag){		textView1.setSelected(flag);	}		public void setTwoSelect(boolean flag){		textView2.setSelected(flag);	}		public void setOnClickable(int position,boolean flag){		if(position==1){			textView1.setClickable(flag);		}else{			textView2.setClickable(flag);		}	}		public static interface onSegmentViewClickListener{		public void onSegmentViewClick(View v,int position);	}}